# 第1章 计算机网络体系结构

> - 计算机网络概述
>   - 计算机网络的概念、组成、功能、分类
>   - 计算机网络的性能指标
> - 计算机网络体系结构与参考模型
>   - 计算机网络分层结构，计算机网络协议、接口、服务的概念
>   - ISO/OSI参考模型和TCP/IP模型

## 1.1 计算机网络概述

### 1.1.1 计算机网络的概念

计算机网络是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。简而言之——一些互联的、自治的计算机系统的集合

#### 1. 广义观点

- 只要是能实现远程信息处理的系统或能进一步达到资源共享的系统，都是计算机网络

- 广义观点定义了一个计算机通信网络，它在物理上具有计算机网络的雏形，但资源共享能力弱，是计算机网络发展的低级阶段

#### 2. 资源共享观点

- 以能够相互共享资源的方式互连起来的自治计算机系统的集合
  - 目的——资源共享
  - 组成单元——分布在不同地理位置的多台独立的“自治计算机”
  - 网络中的计算机必须遵循的统一规则——网络协议

- 该定义符合目前计算机网络的基本特征

#### 3. 用户透明性观点

存在一个能为用户自动管理资源的网络操作系统，它能够调用用户所需要的资源，而整个网络就像一个大的计算机系统一样对用户是透明的。用户使用网络就像使用一台单一的超级计算机，无须了解网络的存在、资源的位置信息

用户透明性观点定义描述了一个分布式系统，它是网络未来发展追求的目标

### 1.1.2 计算机网络的组成

- 从组成部分上看：
  - 硬件。主要由主机、通信链路、交换设备和通信处理机等组成
  - 软件。主要包括各种实现资源共享的软件和方便用户使用的各种工具软件，软件部分多属于应用层
  - 协议。计算机网络的核心，规定了网络传输数据时所遵循的规范
- 从工作方式上看：
  - 边缘部分。由所有连接到因特网上、供用户直接使用的主机组成，用来进行通信和资源共享
  - 核心部分。由大量的网络和连接这些网络的路由器组成，它为边缘部分提供连通性和交换服务

- 从功能组成上看：
  - 通信子网。由各种传输介质、通信设备和相应的网络协议组成，它使网络具有数据传输、交换、控制和存储的能力，实现联网计算机之间的数据通信
  - 资源子网。是实现资源共享功能的设备及其软件的集合，向网络用户提供共享其他计算机上的硬件资源、软件资源和是数据资源的服务

### 1.1.3 计算机网络的功能

#### 1. 数据通信

#### 2. 资源共享

#### 3. 分布式处理

#### 4. 提高可靠性

#### 5. 负载均衡

### 1.1.4 计算机网络的分类

#### 1. 按分布范围

- 广域网
- 城域网
- 局域网
- 个人区域网

#### 2. 按传输技术

- 广播式网络

- 点对点网络

#### 3. 按拓扑结构

- 总线形
- 星形
- 环形
- 网状

#### 4. 按使用者

- 公用网

- 专用网

#### 5. 按交换技术

- 电路交换网络
- 报文交换网络
- 分组交换网络

#### 6. 按传输介质

- 有线网络
  - 双绞线网络
  - 同轴电缆网络
- 无线网络
  - 蓝牙
  - 微波
  - 无线电

### 1.1.5 计算机网络的标准化工作

因特网的所有标准都以RFC（Request For Comments）的形式在因特网上发布，但并非每个RFC都是因特网标准，RFC要上升为因特网的正式标准需经过：

1. 因特网草案Internet Draft.这个阶段还不是RFC文档
2. 建议标准Proposed Standaard.从这个阶段开始就成为RFC文档
3. 草案标准Draft Standard
4. 因特网标准Internet Standard

在国际上，负责制定、实施相关网络标准的标准化组织众多，主要有：

- 国际标准化组织ISO
- 国际电信联盟ITU
- 国际电气电子工程师协会IEEE

### 1.1.6 计算机网络的性能指标

- 带宽Bandwidth
- 时延Delay
  - 发送时延
  - 传播时延
  - 处理时延
  - 排队时延
- 时延带宽积
- 往返时延Round-Trip Time,RTT
- 吞吐量Throughput
- 速率Speed
- 信道利用率

## 1.2 计算机网络体系结构与参考模型

### 1.2.1 计算机网络分层结构

分层的基本原则：

- 每层都实现一种相对独立的功能，降低大系统的复杂度
- 各层之间界面自然清晰，易于理解，相互交流尽可能少
- 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术来实现
- 保持下层对上层的独立性，上层单向使用下层提供的服务
- 整个分层结构应能促进标准化工作

> 实体：任何可发送或接收信息的硬件或软件进程，通常是一个特定的软件模块
>
> 服务数据单元SDU：为完成用户所要求的功能而应传送的数据
>
> 协议控制信息PCI：控制协议操作的信息
>
> 协议数据单元PDU：对等层次之间传送的数据单位称为该层的PDU（物理层的PDU称为比特，数据链路层的PDU称为帧，网络层的PDU称为分组，传输层的PDU称为报文段）

具体地，层次结构的含义包括一下几个方面：

1. 第n层的实体不仅要使用第n - 1层的服务来实现自身定义的功能，还要向第n + 1层提供本层的服务，该服务是第n层及其下面各层提供的服务总和
2. 最底层只提供服务，是整个层次结构的基础；中间各层既是下一层的服务使用者，又是上一层的服务提供者；最高层面向用户提供服务
3. 上一层只能通过相邻层间的接口使用下一层的服务，而不能调用其他层的服务；下一层所提供服务的实现细节对上一层透明
4. 两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传送到对方

### 1.2.2 计算机网络协议、接口、服务的概念

#### 1. 协议

协议由语法、语义和同步三部分组成

- 语法规定了传输数据的格式
- 语义规定了所要完成的功能
- 同步规定了执行各种操作的条件、时序关系等

一个完整的协议通常应具有线路管理、差错控制、数据转换等功能

#### 2. 接口

同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定

- 每层只能为紧邻的层次之间定义接口，不能跨层定义
- 典型接口上，同一结点相邻两层的实体通过服务访问点（Service Access Point,SAP）进行交互

#### 3. 服务

上层使用下层所提供的服务时必须与下层交换一些命令，这些命令在OSI参看模型中称为服务原语。其分为4类：

- 请求Request
- 指示Indication
- 响应Response
- 证实Confirmation

计算机网络提供的服务可按以下分类：

- 面向连接服务与无连接服务
- 可靠服务和不可靠服务
- 有应答服务和无应答服务

> 在一层内完成的全部功能并非都称为服务，只有能够被高一层实体“看得见”的功能才能称为服务

### 1.2.3 ISO/OSI参考模型和TCP/IP模型

#### 1. OSI参考模型

开发系统互连参考模型：

![image-20230307153936565](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%8E%8B%E9%81%93.assets/image-20230307153936565.png)

##### a> 物理层 Physical Layer

传输单位是比特，功能是在物理媒体上为数据端设备透明地传输原始比特流

物理层主要研究以下内容：

- 通信链路与通信结点的连接需要一些电路接口，物理层规定了这些接口的一些参数
- 规定通信链路上传输的信号的意义和电气特征

##### b> 数据链路层 Data Link Layer

传输单位是帧，任务是将网络层传来的IP数据报组装成帧。功能可以概括为成帧、差错控制、流量控制和传输管理等

典型的数据链路层协议有SDLC、HDLC、PPP、STP和帧中继等

##### c> 网络层 Network Layer

传输单位是数据报，主要任务是把网络层的协议数据单元（分组）从源端传到目的端，为分组交换网上的不同主机提供通信服务。关键问题是对分组进行路由选择、并实现流量控制、拥塞控制、差错控制和网际互联等功能

网络层的协议有IP、IPX、ICMP、IGMP、ARP、RARP和OSPF等

##### d> 传输层 Transport Layer

传输单位是报文段（TCP）或用户数据报（UDP），负责主机中两个进程之间的通信，功能是为端到端连接提供可靠的传输服务，为端到端连接提供流量控制、差错控制、服务质量、数据传输管理等服务

数据链路层提供的是点到点的通信，传输层提供的是端到端的通信。通俗理解：点到点可以理解为主机与主机，端到端是指运行在不同主机内的两个进程之间

传输层协议有TCP、UDP

##### e> 会话层 Session Layer

负责管理主机间的会话进程，包括建立、管理和终止进程间的会话。可以使用校验点使通信失效时从校验点继续恢复通信，实现数据同步

##### f> 表示层 Presentation Layer

主要处理在两个通信系统中交换信息的表示方式，数据压缩、加密和解密也是表示层可提供的数据表示变换功能

##### g> 应用层 Application Layer

为特定类型的网络应用提供访问OSI参考模型环境的手段

#### 2. TCP/IP模型

##### a> 网络接口层

从主机或结点接收IP分组，并把它们发送到指定的物理网络上

##### b> 网际层

将分组发往任何网络，并为之独立地选择合适的路由，但不保证各个分组有序地到达，各个分组的有序交付由高层负责。网际层定义了标准的分组格式和协议，即IP

##### c> 传输层

发送端和目的端主机上的对等实体进行会话

##### d> 应用层

#### 3. TCP/IP模型与OSI参考模型的比较

